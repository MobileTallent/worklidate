
<ion-view view-title="Groups" class="gradient-red">
  <div class="header-bar">
 <div class="menubtn" ng-click="popover.show($event)"> 
       <i class="icon ion-navicon"  style="font-size: 40px;color: #fff;margin: 8px;line-height: 60px;"></i>
    </div>
  <!--<div class="backbtn">
    <img src="img/back_arrow_white.png" ng-click="goto('group');" />
  </div>-->
  <div class="title"> {{ 'Groups' | translate }}</div>
  <div class="header-btn" ><i menu-toggle="right" class="fa fa-bars"></i></div>
  </div>

    <ion-content class="hasheader-nofooter" overflow-scroll="true">
     	<div class="group-detials">
           		<img class="pic" src="{{group.image}}" />
           		<div class="title">{{group.grouptitle}}</div>
           		<div class="location">{{group.location}}</div>
           		<p class="description">{{group.groupdescription}}
          		</p>
          		<div class="members">
          			<img ng-src="{{'/upload/profile/'+member.userid}}" ng-repeat="member in group.members" />
          		</div><!-- end of members div -->
          		<div class="options">
          			<span>{{ 'Portfolio' | translate }} :</span> {{group.portfolio}}
          		</div>
          		<!--<div class="options">
          			<span>{{ 'Followers' | translate }} :</span> {{getObjectLength(group.followers)}}
          		</div>-->
          		<div class="options">
          			<span>{{ 'Members' | translate }} :</span> {{getObjectLength(group.members)}}
          		</div>
          		<div class="options">
          			<span>{{ 'Projects' | translate }} :</span> {{$root.members_projects.length}}
          		</div>
          	<div class="action-btn createTopic" ng-click="createTopic();"> {{ 'Create topic' | translate }}</div>
          		   <div class="group-topic-list">
              		   		<div ng-repeat="(id,topic) in group.topics" class="group-topic-card">
                		   			<div class="group-topic-title">{{topic.title}}</div>
                		   			<div class="group-topic-desc">{{topic.description}}</div>
                		   			<div class="group-topic-comment-btn" ng-click="comment(id);"> {{ 'Comment' | translate }}</div>
                		   			<div ng-repeat="comment in topic.comments" ng-init="user=(comment.userid | getUser)" class="comment">
                  			   			<div class="user-pic-comment">
                  						          <img ng-if="!user.picture" src="img/user.png"  />
                  						          <img ng-if="user.picture" ng-src="{{user.picture}}"   />
                  					  	</div><!-- end of user-pic-comment div -->
                  					    <div>{{user.name}}</div>
                  					    <div>{{comment.comment}}</div>
                  					    <div class="date">{{comment.publishAt | date:'dd-MM-yyyy' }}</div>
              		   			</div><!-- end of comment div -->
              		   		</div><!-- end of group-topic-card div -->

          		   </div><!-- end of group-topic-list div -->
    		  </div><!-- end of group-detials div -->
    </ion-content><!-- end of ion-content div -->
</ion-view><!-- end of ion-view div -->
